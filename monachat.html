monachat.pm documentation
<br><br>
<h2>Methods exported by this module</h2>

- Constructor<br>
&nbsp&nbsp&nbsp&nbsp- new<br><br>

- Basic getters/setters<br>
&nbsp&nbsp&nbsp&nbsp- name / id / character / status / trip / ihash / r / g / b / x / y / scl<br><br>

- Configuration getters/setters<br>
&nbsp&nbsp&nbsp&nbsp- addr / port / attrib / server / room / proxy / site / timeout / debug / version<br><br>

- Utility functions<br>
&nbsp&nbsp&nbsp&nbsp- send<br>
&nbsp&nbsp&nbsp&nbsp- change_(name/character/trip/rgb/x/y/scl/x_y_scl)<br>
&nbsp&nbsp&nbsp&nbsp- relogin / change_room / reenter / can_read / data / rgb / x_y_scl<br><br>

- Network functions<br>
&nbsp&nbsp&nbsp&nbsp- connect / connect_proxy / disconnect / enter_room<br>
&nbsp&nbsp&nbsp&nbsp- is_down / is_connected / can_ping / ping / read_socket<br><br>

- Signals<br>
&nbsp&nbsp&nbsp&nbsp- login / exit_room / comment / change_status / ignore<br><br>

- Proxy functions<br>
&nbsp&nbsp&nbsp&nbsp- proxies_left / next_proxy / get_proxy_list<br><br>


<h2>CONSTRUCTOR</h2>

new([%data]):<br>
It accepts a hash of data as an initialization of session data, which may contain:<br><br>

name&nbsp&nbsp&nbsp- Session name<br>
char&nbsp&nbsp&nbsp- Character type<br>
status&nbsp- Initial status<br>
trip&nbsp&nbsp&nbsp- Initial trip<br>
r&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp- Initial r<br>
g&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp- Initial g<br>
b&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp- Initial b<br>
x&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp- Initial x position<br>
y&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp- Initial y position<br>
scl&nbsp&nbsp&nbsp&nbsp- Initial scl position<br><br>

addr&nbsp&nbsp&nbsp- Socket address<br>
port&nbsp&nbsp&nbsp- Socket port<br><br>

server - Monachat server to connect to, which is one of the following:<br>
iriguchi, ooheya, chibichato, moa, chiikibetsu, wadaibetsu, tateyokoheya, cool, kanpu, monafp<br><br>

room&nbsp&nbsp&nbsp- Monachat server room<br>
proxy&nbsp&nbsp- 1 or 0<br>
site&nbsp&nbsp&nbsp- 1 or 2, 2 contains a much lager list but 1 is faster (probably)<br>
to&nbsp&nbsp&nbsp&nbsp&nbsp- Timeout between reconnection tries or proxy timeout<br>
debug&nbsp&nbsp- Show proxy debug information (1 or 0)<br>
socks&nbsp&nbsp- Socks version (3 or 4)<br><br>

handle_name&nbsp&nbsp&nbsp&nbsp- Wether to cut the name down to 40 characters if it's longer thatn that (0 or 1).<br>
handle_stat&nbsp&nbsp&nbsp&nbsp&nbsp- Same as name, but with status.<br>
handle_comment&nbsp- Same, but with comments.<br>
handle_ihash&nbsp&nbsp&nbsp- Wether to cut down ihashes to the last 6 chars or not (0 or 1).<br><br>


<h2>GETTERS/SETTERS</h2>

name / id / character / status / trip / ihash / r / g / b / x / y / scl<br>
addr / port / attrib / server / room / proxy / site / timeout / debug / version<br><br>

Set value if there is one, return value if there isn't, usually used internally.<br><br>


<h2>UTILITY FUNCTIONS</h2>

send($data):<br>
Sends raw data to socket with \0 termination and encoded in utf8.<br><br>

change_name($name):<br>
change_character($character):<br>
change_trip($trip):<br>
change_rgb($r, $g, $b):<br>
change_x($y):<br>
change_($y):<br>
change_scl($scl):<br>
change_x_y_scl($x, $y, $scl):<br>
Changes value and relogins if there is need to do so.<br><br>

relogin():<br>
Relogins to monachat and reenters current room.<br><br>

change_room($room):<br>
Exit current room and changes it.<br><br>

reenter():<br>
Exits current room and enter it again.<br><br>

can_read($t):<br>
Waits $t seconds and returns data if there is data stored in socket buffer or undef on fail.<br><br>

rgb($r, $g, $b):<br>
Set rgb values.<br><br>

x_y_scl($x, $y, $scl):<br>
Set x y and scl values.<br><br>

can_read($t):<br>
Interface to $select->can_read($t). Takes timeout and returns 1 on success or undef otherwise.<br><br>

data(%data):<br>
Bulk data getter/setter, note that you can't set id and ihash with setter:<br>
- Setter data: <br>
- Getter data: <br><br>

rgb($r, $g, $b):<br>
Utility function for r(), g() and b()<br><br>

x_y_scl():<br>
Utility function to x(), y() and scl()<br><br>


<h2>NETWORK FUNCTIONS</h2><br>

connect():<br>
Open a IO::Socket::INET socket to monachat and send a login signal<br><br>

disconnect():<br>
Stop reading and writing from socket and close it<br><br>

can_ping():<br>
Check if enough time has passed so that a ping signal can be sent. Returns 1 on success and undef on failure.<br><br>

read_socket([$t], [$c],):<br>
Read from socket with a timeout of $t seconds and a character limit of $c characters.<br><br>

proxies_left():<br>
Get number of proxies left on proxy array.<br><br>

get_proxy_list() - Download new proxy list.
